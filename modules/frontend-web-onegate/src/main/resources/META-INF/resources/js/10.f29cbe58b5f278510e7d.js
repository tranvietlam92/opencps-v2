webpackJsonp([10],{618:function(t,e,o){var n=o(132)(o(638),o(647),null,null);t.exports=n.exports},638:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(134),s=o.n(n),i=o(332);e.default={props:["index"],data:function(){return{keywords:"",selected:[],headers:[{text:"STT",align:"center",sortable:!1,class:"stt_column"},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Người đăng ký",align:"center",sortable:!1},{text:"Tên thủ tục",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Ngày giờ hẹn trả",align:"center",sortable:!1},{text:"Thời hạn",align:"center",sortable:!1},{text:"",align:"center",sortable:!1,class:"action_column"}],danhSachHoSoTables:[],itemperpage:15,pages:0,page:1,total:0}},computed:{loadingTable:function(){return this.$store.getters.loadingTable},trangThaiHoSoList:function(){return this.$store.getters.loadtrangThaiHoSoList}},watch:{index:function(t){var e=this;e.$store.dispatch("setCurrentIndex",e.index),e.selected=[],e.keywords="",e.page=1;var o={keywords:e.keywords,status:e.trangThaiHoSoList[t],start:e.page*e.itemperpage-e.itemperpage,end:e.page*e.itemperpage};console.log(e.index),"2"===e.index?e.$store.commit("setSubStatusNew",!0):e.$store.commit("setSubStatusNew",!1),e.$store.getters.danhSachHoSo(o).then(function(t){e.danhSachHoSoTables=t.data,e.total=t.total,e.pages=Math.ceil(e.total/e.itemperpage)})},page:function(t){var e=this;e.page=t,e.loadDataTable()}},created:function(){var t=this;t.page=1,t.$nextTick(function(){t.$store.dispatch("setCurrentIndex",t.index),t.loadDataTable()})},methods:{checkAction:function(t){return"new"===t?"print,send,delete":"releasing"===t?"result,ticket":"done"===t?"view,ticket":"waiting"===t?"view,ticket":"receiving"===t?"view,result":"correcting"===t?"view,ticket":"processing"===t?"view,ticket":void 0},checkPrint:function(t,e){return!t.applicantName&&!t.address},showMultiDelete:function(t){return"new"===t},keywordSearch:function(){var t=this;t.page=1,t.loadDataTable()},loadDataTable:function(){var t=this,e={keywords:t.keywords,status:t.trangThaiHoSoList[t.index],start:t.page*t.itemperpage-t.itemperpage,end:t.page*t.itemperpage};console.log(t.index),"2"===t.index?t.$store.commit("setSubStatusNew",!0):t.$store.commit("setSubStatusNew",!1),t.$store.getters.danhSachHoSo(e).then(function(e){t.danhSachHoSoTables=e.data,t.total=e.total,t.pages=Math.ceil(t.total/t.itemperpage)})},chuyenXuLy:function(t){var e=this;e.$root.$confirm.open("Thông báo","Bạn chắc chắn muốn thực hiện thao tác này?",{color:"blue darken-4"}).then(function(o){e.$store.dispatch("getCpsAuthen").then(function(o){var n={dossierId:t.dossierId,actionCode:1e4,cps_auth:o};e.$store.dispatch("postAction",n).then(function(t){i.b("success","Xử lý thành công"),e.loadDataTable()}).catch(function(t){i.b("error","Xử lý thất bại")})}).catch(function(t){console.log(t)})}).catch(function(t){console.log("kkk")})},traKetQua:function(t){var e=this;e.$root.$confirm.open("Thông báo","Bạn chắc chắn muốn thực hiện thao tác này?",{color:"blue darken-4"}).then(function(o){e.$store.dispatch("getCpsAuthen").then(function(o){var n={dossierId:t.dossierId,actionCode:3e4,cps_auth:o};e.$store.dispatch("postAction",n).then(function(t){i.b("success","Xử lý thành công"),e.loadDataTable()}).catch(function(t){i.b("error","Xử lý thất bại")})}).catch(function(t){console.log(t)})}).catch(function(t){console.log("kkk")})},moveProcess:function(){var t=this;t.$root.$confirm.open("Thông báo","Bạn chắc chắn muốn thực hiện thao tác này?",{color:"blue darken-4"}).then(function(e){for(var o=[],n=0;n<t.selected.length;n++)if(!t.selected[n].applicantName&&!t.selected[n].address)return void t.$root.$confirm.open("Thông báo","Bạn phải điền đầy đủ thông tin của hồ sơ trước khi thực hiện thao tác này?",{color:"blue darken-4"}).then(function(t){}).catch(function(t){});t.$store.dispatch("getCpsAuthen").then(function(e){if(t.selected.forEach(function(n){var s={dossierId:n.dossierId,actionCode:1e4,cps_auth:e};o.push(t.$store.dispatch("postAction",s))}),0===o.length)return void i.b("error","Bạn chưa chọn hồ sơ nào");s.a.all(o).then(function(e){i.b("success","Xử lý thành công"),t.loadDataTable()}).catch(function(t){i.b("error","Xử lý thất bại")})}).catch(function(t){console.log(t)})}).catch(function(t){console.log("kkk")}),console.log(t.selected)},moveRelease:function(){var t=this;t.$root.$confirm.open("Thông báo","Bạn chắc chắn muốn thực hiện thao tác này?",{color:"blue darken-4"}).then(function(e){for(var o=[],n=0;n<t.selected.length;n++)if(!t.selected[n].applicantName&&!t.selected[n].address)return void t.$root.$confirm.open("Thông báo","Bạn phải điền đầy đủ thông tin của hồ sơ trước khi thực hiện thao tác này?",{color:"blue darken-4"}).then(function(t){}).catch(function(t){});t.$store.dispatch("getCpsAuthen").then(function(e){if(t.selected.forEach(function(n){var s={dossierId:n.dossierId,actionCode:3e4,cps_auth:e};o.push(t.$store.dispatch("postAction",s))}),0===o.length)return void i.b("error","Bạn chưa chọn hồ sơ nào");s.a.all(o).then(function(e){i.b("success","Xử lý thành công"),t.loadDataTable()}).catch(function(t){i.b("error","Xử lý thất bại")})}).catch(function(t){console.log(t)})}).catch(function(t){console.log("kkk")}),console.log(t.selected)},deleteDosier:function(t,e){var o=this;o.$root.$confirm.open("Xóa","Bạn có muốn xoá hồ sơ này?",{color:"red"}).then(function(n){t&&o.$store.dispatch("getCpsAuthen").then(function(n){var s={dossierId:t,cps_auth:n};o.$store.dispatch("deleteDossier",s).then(function(t){o.danhSachHoSoTables.splice(e,1)})}).catch(function(t){})}).catch(function(t){console.log("kkk")}),console.log(o.selected)},moveDelete:function(){var t=this;t.$root.$confirm.open("Xóa","Bạn có chắc chắn muốn xoá các mục đã chọn?",{color:"red"}).then(function(e){t.$store.dispatch("getCpsAuthen").then(function(e){var o=[];if(t.selected.forEach(function(n){var s={dossierId:n.dossierId,cps_auth:e};o.push(t.$store.dispatch("deleteDossier",s))}),0===o.length)return void i.b("error","Bạn chưa chọn hồ sơ nào");s.a.all(o).then(function(e){t.selected&&t.selected.forEach(function(e){t.danhSachHoSoTables.splice(t.danhSachHoSoTables.findIndex(function(t){return e.dossierId===t.dossierId}),1)}),i.b("success","Xử lý thành công")}).catch(function(t){i.b("error","Xử lý thất bại")})}).catch(function(t){console.log(t)})}).catch(function(t){}),console.log(t.selected)},viewChitiet:function(t,e){return"done"===t.dossierStatus?"/group/cong-xu-ly/mot-cua-dien-tu#/danh-sach-ho-so/"+e+"/chi-tiet-ho-so/"+t.dossierId:"/group/cong-xu-ly/mot-cua-dien-tu#/danh-sach-ho-so/"+e+"/tiep-nhan-ho-so/"+t.dossierId},toDetailDossier:function(t,e){var o="/group/cong-xu-ly/mot-cua-dien-tu#/danh-sach-ho-so/"+t+"/tiep-nhan-ho-so/"+e;"4"===t&&(o="/group/cong-xu-ly/mot-cua-dien-tu#/danh-sach-ho-so/"+t+"/chi-tiet-ho-so/"+e),window.location.href=o},toDetailPhieuHen:function(t,e){var o=this;o.$store.commit("setPrintPH",!0),console.log(o.$store.getters.printPH);var n="/group/cong-xu-ly/mot-cua-dien-tu#/danh-sach-ho-so/"+t+"/tiep-nhan-ho-so/"+e+"/phieu-hen";window.open(n,"_blank")},durationText:function(t,e){var o;if(1===e&&t>8){var n=Math.floor(t/8)+" ngày",s=void 0;s=t%8!=0?8*(t/8-Math.floor(t/8))+" giờ":"",o=n+" "+s}else 0===e?o=t+" ngày":1===e&&t<=8&&(o=t+" giờ");return o}}}},647:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.loadingTable?o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("div",{staticClass:"row-header",staticStyle:{"margin-top":"6px"}},[o("div",{staticClass:"background-triangle-big"},[t.trangThaiHoSoList?o("span",[t._v(t._s(t.trangThaiHoSoList[t.index].title))]):t._e()]),t._v(" "),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex text-ellipsis"},[o("v-text-field",{attrs:{placeholder:"Nhập từ khoá ...","prepend-icon":"search",solo:""},nativeOn:{change:function(e){return t.keywordSearch(e)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1),t._v(" "),o("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto"}},["new"===t.trangThaiHoSoList[t.index].id?o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:""},on:{click:t.moveProcess}},[o("v-icon",{attrs:{size:"16"}},[t._v("send")]),t._v("\n          Chuyển hồ sơ vào xử lý\n        ")],1):t._e(),t._v(" "),"release"===t.trangThaiHoSoList[t.index].id?o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:""},on:{click:t.moveRelease}},[o("v-icon",{attrs:{size:"16"}},[t._v("send")]),t._v("\n          Trả kết quả\n        ")],1):t._e(),t._v(" "),t.showMultiDelete(t.trangThaiHoSoList[t.index].id)?o("v-btn",{staticClass:"my-0 mx-0",attrs:{flat:""},on:{click:t.moveDelete}},[o("v-icon",{attrs:{size:"16"}},[t._v("delete")]),t._v("\n          Xóa\n        ")],1):t._e()],1)])]),t._v(" "),t.loadingTable?o("content-placeholders",[o("content-placeholders-img"),t._v(" "),o("content-placeholders-heading")],1):o("div",[o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headers,items:t.danhSachHoSoTables,"total-items":t.total,"item-key":"dossierId","select-all":"","hide-actions":"","no-data-text":"Không tìm thấy "+t.trangThaiHoSoList[t.index].title,"no-results-text":"Không tìm thấy "+t.trangThaiHoSoList[t.index].title},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n            "+t._s(e.header.text)+"\n          ")]),t._v(" "),o("span",[t._v("\n            "+t._s(e.header.text)+"\n          ")])])]}},{key:"items",fn:function(e){return[o("td",[o("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(o){t.$set(e,"selected",o)},expression:"props.selected"}})],1),t._v(" "),o("td",{staticClass:"text-xs-center stt_column"},[t._v(t._s(e.index+1))]),t._v(" "),o("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.dossierIdCTN))]),t._v(" "),o("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.applicantName))]),t._v(" "),o("td",{staticClass:"text-xs-left"},[o("a",{attrs:{title:"Chi tiết hồ sơ",href:t.viewChitiet(e.item,t.index)}},[o("span",[t._v(t._s(e.item.serviceName))])])]),t._v(" "),o("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.address))]),t._v(" "),o("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.dueDate))]),t._v(" "),o("td",{staticClass:"text-xs-left"},[t._v(t._s(t.durationText(e.item.processBlock,e.item.processUnit))+" "),e.item.processBlock?o("span",[t._v("làm việc")]):t._e()]),t._v(" "),o("td",{staticClass:"text-xs-left px-0"},[o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:""},on:{click:function(o){t.toDetailDossier(t.index,e.item.dossierId)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",staticStyle:{color:"#1976d2"},attrs:{size:"16"}},[t._v("visibility")])],1),t._v(" "),o("span",[t._v("Xem hồ sơ")])],1),t._v(" "),t.checkAction(t.trangThaiHoSoList[t.index].id).includes("send")?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:"",disabled:t.checkPrint(e.item)},on:{click:function(o){t.toDetailPhieuHen(t.index,e.item.dossierId)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",staticStyle:{color:"#1976d2"},attrs:{size:"16"}},[t._v("print")])],1),t._v(" "),o("span",[t._v("In phiếu hẹn")])],1):t._e(),t._v(" "),t.checkAction(t.trangThaiHoSoList[t.index].id).includes("send")?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:"",disabled:t.checkPrint(e.item)},on:{click:function(o){t.chuyenXuLy(e.item)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",staticStyle:{color:"#1976d2"},attrs:{size:"16"}},[t._v("send")])],1),t._v(" "),o("span",[t._v("Chuyển hồ sơ vào xử lý")])],1):t._e(),t._v(" "),t.checkAction(t.trangThaiHoSoList[t.index].id).includes("ticket")?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:""},slot:"activator"},[o("v-icon",{staticClass:"mx-0",staticStyle:{color:"#1976d2"},attrs:{size:"16"}},[t._v("description")])],1),t._v(" "),o("span",[t._v("Phiếu kiểm soát")])],1):t._e(),t._v(" "),t.checkAction(t.trangThaiHoSoList[t.index].id).includes("result")?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:"",to:"/danh-sach-ho-so/"+t.index+"/tra-ket-qua/"+e.item.dossierId},slot:"activator"},[o("v-icon",{staticClass:"mx-0",staticStyle:{color:"#1976d2"},attrs:{size:"16"}},[t._v("send")])],1),t._v(" "),o("span",[t._v("Trả kết quả")])],1):t._e(),t._v(" "),t.checkAction(t.trangThaiHoSoList[t.index].id).includes("delete")?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{width:"30px",height:"30px"},attrs:{slot:"activator",icon:""},on:{click:function(o){t.deleteDosier(e.item.dossierId,e.index)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"red darken-3"}},[t._v("delete")])],1),t._v(" "),o("span",[t._v("Xoá")])],1):t._e()],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),o("div",{staticClass:"mt-3 text-xs-right table-footer"},[o("div",{staticClass:"left"},["new"===t.trangThaiHoSoList[t.index].id?o("v-btn",{staticClass:"my-0 mx-0 mr-2",attrs:{outline:"",color:"indigo"},on:{click:t.moveProcess}},[o("v-icon",{attrs:{size:"16"}},[t._v("send")]),t._v("\n          Chuyển hồ sơ vào xử lý\n        ")],1):t._e(),t._v(" "),"release"===t.trangThaiHoSoList[t.index].id?o("v-btn",{staticClass:"my-0 mx-0 mr-2",attrs:{outline:"",color:"indigo"},on:{click:t.moveRelease}},[o("v-icon",{attrs:{size:"16"}},[t._v("send")]),t._v("\n          Trả kết quả\n        ")],1):t._e(),t._v(" "),t.showMultiDelete(t.trangThaiHoSoList[t.index].id)?o("v-btn",{staticClass:"my-0 mx-0 mr-2",attrs:{outline:"",color:"indigo"},on:{click:t.moveDelete}},[o("v-icon",{attrs:{size:"16"}},[t._v("delete")]),t._v("\n          Xóa\n        ")],1):t._e()],1),t._v(" "),o("span",{staticClass:"mr-2"},[o("i",[t._v("Tổng số "),o("span",{staticClass:"red--text"},[t._v(t._s(t.total))]),t._v(" kết quả được tìm thấy")])]),t._v(" "),o("v-pagination",{attrs:{length:t.pages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=10.f29cbe58b5f278510e7d.js.map